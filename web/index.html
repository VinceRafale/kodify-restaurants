<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
        <link rel="stylesheet" href="/css/jquery.gritter.css" />
        <link rel="stylesheet" href="/css/restaurants.css" />
       

        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true&libraries=places"></script>

        <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
        <script src="/js/jquery.ui.map.full.min.js"></script>
        <script src="/js/jquery.gritter.js"></script>
        <script src="/js/restaurants.js"></script>
    </head>

    <script type="text/javascript">
        var baseApiDomain = '/web/app_dev.php';
        var defaultCenter = { 'center': '41.391355, 2.163373', 'zoom': 18 };
        var geocoder = new google.maps.Geocoder();
        var map = null;
        
        var functionResponse = jQuery.ajax({
            url: baseApiDomain + '/tag/',
            type: 'GET',
            dataType: 'json',
            cache: true,
            async:false
        }).responseText;

        var tags = JSON.parse(functionResponse);  
    </script>

    <body id="body">
        <div id="home" data-role="page">
            <div data-role="header">
                <a data-role="button" data-icon="plus" data-theme="d" data-mini="true" data-inline="true"  data-rel="dialog" href="#addNewRestaurantDialog">Add</a>
                <h1>Kodify Restaurants</h1>
                <a data-role="button" data-icon="gear" data-theme="d" data-mini="true" data-inline="true" data-rel="popup" href="#optionsDialog">Options</a>
            </div>
            <div data-role="content" style="width:100%; height:100%; padding:0;" >
                <div class="ui-bar-c ">
                    <div id="map_canvas"></div>
                    <div id="dialogMarker"></div>
                    <div id="searcherButtonDiv">
                        <a href="#searchPopup" data-rel="popup" data-position-to="window" data-role="button" data-icon="search" data-inline="true">Search</a>
                    </div>
                </div>
            </div>


            <div id="optionsDialog" data-role="popup">
                <ul data-role="listview" data-inset="true" style="min-width:210px;" data-theme="b">                    
                    <li>                        
                        <a href="#popupLogin" data-rel="popup" data-position-to="window" data-inline="true">Login</a>                        
                    </li>                
                </ul>
            </div>

            <div data-role="popup" id="popupLogin" data-theme="a" class="ui-corner-all">
                <form>
                    <div style="padding:10px 20px;">
                      <h3>Please sign in</h3>
                      <label for="un" class="ui-hidden-accessible">Username:</label>
                      <input type="text" name="user" id="un" value="" placeholder="username" data-theme="a" />

                      <label for="pw" class="ui-hidden-accessible">Password:</label>
                      <input type="password" name="pass" id="pw" value="" placeholder="password" data-theme="a" />

                      <button type="submit" data-theme="b">Sign in</button>
                    </div>
                </form>
            </div>

            <div data-role="popup" id="searchPopup" data-theme="a" class="ui-corner-all">
                <div id="radios" style="padding:10px 20px;">
                    <div>
                        <label for="input-your-position">Your current address</label>
                        <input type="text" id="input-your-position">
                    </div>
                    <div>
                        <label for="slider-max-distance">Max distance:</label>
                        <input type="range" name="slider" id="slider-max-distance" value="2" min="0" max="10"  />
                    </div>
                    <div data-role="fieldcontain">
                        <fieldset data-role="controlgroup" id="searcherTagSelector">
                            <legend>Tags:</legend>
                        </fieldset>
                    </div>
                    <button type="submit" data-theme="b" name="submit" value="submit-value" class="ui-btn-hidden" aria-disabled="false">Submit</button>
                </div>
            </div>

            
        </div>

        <div id="addNewRestaurantDialog" data-role="page">
            <div data-role="header" data-theme="d">
                <h1>Add new restaurant</h1>
            </div>
            <div data-role="content">
                <form id="addRestaurant" action="/web/restaurant/" method="post">
                    <input type="hidden" name="lat" id ="restaurant_lat">
                    <input type="hidden" name="lon" id ="restaurant_lon">
                    <label for="restaurant_name">Name:</label>
                    <input type="text" name="name" id="restaurant_name" data-mini="true" required="required" />

                    <label for="restaurant_address">Address:</label>
                    <input type="text" name="address" id="restaurant_address" data-mini="true" required="required" />

                    <label for="restaurant_website">Website:</label>
                    <input type="text" name="website" id="restaurant_website" data-mini="true" />

                    <label for="restaurant_price">Price:</label>
                    <input type="number" name="price" id="restaurant_price" data-mini="true" />

                    <label for="restaurant_description">Description:</label>
                    <textarea name="textarea" id="restaurant_description">

                    </textarea>

                    <div data-role="fieldcontain">
                        <fieldset data-role="controlgroup" id="restaurantTagSelector">
                            <legend>Tags:</legend>
                        </fieldset>
                    </div>

                    <button type="submit" data-theme="b" name="submit" value="submit-value" class="ui-btn-hidden" aria-disabled="false">Submit</button>
                </form>
            </div>
        </div>        
    </body>
</html>
